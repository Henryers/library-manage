-- 图书管理系统数据库
create database library;
use library;

-- 1、读者种类表
drop table if exists r_category;
create table r_category(
    id int primary key auto_increment,
    name varchar(32) unique not null,
    amount int not null,
    lend_period int not null comment '一次借书的期限天数',
    effect_period date not null comment '仅在毕业前借书有效',
    notes varchar(255) null
);


-- 2、读者表
drop table if exists reader;
create table reader(
    id int primary key auto_increment,
    name varchar(32) not null,
    category_id int not null comment '读者种类',
    sex tinyint not null default 1,
    w_address varchar(255) not null,
    h_address varchar(255) not null,
    phone varchar(11) unique not null,
    email varchar(64) null,
    create_time datetime not null default now(),
    notes varchar(255) null
);
-- 添加外键约束关联: 读者和对应的分类
alter table reader add constraint fk_r_category_id foreign key (category_id)
    references r_category(id) on update cascade on delete cascade;


-- 3、书籍种类表
drop table if exists b_category;
create table b_category(
    id int primary key auto_increment,
    name varchar(32) unique not null,
    keywords varchar(32) null,
    notes varchar(255) null
);


-- 4、书籍表
drop table if exists book;
create table book(
    id int primary key auto_increment,
    name varchar(32) not null,
    category_id int not null comment '书籍种类',
    author varchar(32) not null,
    press varchar(32) not null,
    publish_date date not null,
    price decimal(10, 2) not null,
    page_number int not null,
    keywords varchar(32) null,
    create_time datetime not null default now(),
    status tinyint not null default 0,
    notes varchar(255) null
);
-- 添加外键约束关联: 书籍和对应的分类
alter table book add constraint fk_b_category_id foreign key (category_id)
    references b_category(id) on update cascade on delete cascade;


-- 5、借书还书表
drop table if exists lend_return;
create table lend_return(
    id int primary key auto_increment,
    r_id int not null,
    b_id int not null,
    lend_date date not null default (curdate()),
    return_date date null,
    status int null default 0 comment '归还状态，0: 出借中  1：正常归还  2：逾期归还  3：丢失无法归还  4：损坏归还  5：其他(备注说明)',
    notes varchar(255) null
);
-- 添加外键约束关联: 读者和书籍id
alter table lend_return add constraint fk_r_id foreign key (r_id)
    references reader(id) on update cascade on delete cascade;
alter table lend_return add constraint fk_b_id foreign key (b_id)
    references book(id) on update cascade on delete cascade;
-- return_date可以为null
alter table lend_return modify return_date date null;

-- 6、管理员表
drop table if exists manager;
create table manager(
    id int primary key auto_increment,
    name varchar(32) unique not null,
    password varchar(32) not null
);

-- 示例数据
-- 插入示例数据到 b_category 表中
INSERT INTO b_category (name, keywords, notes) VALUES
('小说', '小说, 小说类, 文学', '小说类书籍，包括文学经典、现代小说等'),
('历史', '历史, 历史类, 历史书籍', '历史类书籍，包括古代历史、近现代史等'),
('科学', '科学, 科学类, 科技', '科学类书籍，涵盖物理、化学、生物等各个领域'),
('艺术', '艺术, 艺术类, 艺术书籍', '艺术类书籍，包括绘画、音乐、舞蹈等'),
('哲学', '哲学, 哲学类, 哲学书籍', '哲学类书籍，涵盖古代哲学思想和现代哲学研究'),
('政治', '政治, 政治类, 政治书籍', '政治类书籍，包括政治理论和国际关系等'),
('经济', '经济, 经济类, 经济书籍', '经济类书籍，涵盖宏观经济学和微观经济学等'),
('教育', '教育, 教育类, 教育书籍', '教育类书籍，包括教育心理学和教学方法等');

-- 插入更多示例数据到 r_category 表中
-- 向 r_category 表中插入示例数据
INSERT INTO r_category (name, amount, lend_period, effect_period, notes) VALUES
('本科生', 5, 30, '2028-06-30', '本科生借书期限一次30天且最多同时借5本，毕业前有效'),
('硕士生', 10, 60, '2030-06-30', '硕士生借书期限一次60天且最多同时借10本，毕业前有效'),
('博士生', 15, 90, '2034-06-30', '博士生借书期限一次90天且最多同时借15本，毕业前有效'),
('教职工', 20, 180, '9999-12-31', '教职工借书期限一次180天且最多同时借20本，永久有效');
delete from r_category;

INSERT INTO book (name, category_id, author, press, publish_date, price, page_number, keywords, create_time, status, notes)
VALUES
    ('老人与海', 1, '海明威', '高等教育出版社', '2024-01-01', 19.99, 200, '老人, 坚持', NOW(), 0, '展示老人渡海，搏斗的坚持不懈的精神'),
    ('红楼梦', 2, '曹雪芹', '人民文学出版社', '2024-02-01', 29.99, 300, '贾宝玉, 林黛玉', NOW(), 0, '描写了贾宝玉和林黛玉的爱情故事'),
    ('水浒传', 3, '施耐庵', '上海古籍出版社', '2024-03-01', 39.99, 400, '宋江, 武松', NOW(), 0, '讲述了宋江等英雄好汉的故事'),
    ('西游记', 4, '吴承恩', '中国友谊出版公司', '2024-04-01', 49.99, 500, '孙悟空, 唐僧', NOW(), 0, '记录了孙悟空保护唐僧取经的经历'),
    ('三国演义', 5, '罗贯中', '华夏出版社', '2024-05-01', 59.99, 600, '刘备, 曹操', NOW(), 0, '描述了三国时期的英雄豪杰'),
    ('论语', 6, '孔子', '商务印书馆', '2024-06-01', 69.99, 700, '仁, 礼', NOW(), 0, '总结了孔子及其弟子的言行'),
    ('诗经', 7, '佚名', '中华书局', '2024-07-01', 79.99, 800, '离骚, 雅', NOW(), 0, '是中国古代最早的一部诗歌总集'),
    ('道德经', 8, '老子', '人民出版社', '2024-08-01', 89.99, 900, '道, 德', NOW(), 0, '论述了道家哲学的思想'),
    ('百年孤独', 1, '加西亚·马尔克斯', '南海出版公司', '2024-09-01', 99.99, 1000, '布恩迪亚家族, 马奎斯', NOW(), 0, '以布恩迪亚家族七代人的故事为主线'),
    ('活着', 2, '余华', '作家出版社', '2024-10-01', 109.99, 1100, '福贵, 小福子', NOW(), 0, '生动地描绘了一个农民的一生'),
    ('围城', 3, '钱钟书', '人民文学出版社', '2024-11-01', 119.99, 1200, '方鸿渐, 孙小姐', NOW(), 0, '描写了知识分子的迷茫和困境'),
    ('白夜行', 1, '东野圭吾', '南海出版公司', '2024-12-01', 59.99, 600, '推理, 悬疑', NOW(), 0, '讲述了两个孩子之间的黑暗秘密'),
    ('平凡的世界', 2, '路遥', '人民文学出版社', '2024-11-01', 49.99, 500, '农村, 人生', NOW(), 0, '描写了农村人民的艰辛生活和奋斗'),
    ('哈利·波特与魔法石', 3, 'J.K.罗琳', '人民文学出版社', '2024-10-01', 39.99, 400, '魔法, 冒险', NOW(), 0, '描述了哈利·波特进入魔法世界的故事'),
    ('傲慢与偏见', 4, '简·奥斯汀', '外语教学与研究出版社', '2024-09-01', 29.99, 300, '爱情, 社交', NOW(), 0, '以伊丽莎白·班纳特和达西先生的爱情为主线'),
    ('1984', 6, '乔治·奥威尔', '中信出版社', '2024-08-01', 19.99, 200, '反乌托邦, 隐私', NOW(), 0, '揭示了一个极权社会的恐怖面貌'),
    ('活着', 5, '余华', '作家出版社', '2024-07-01', 19.99, 200, '命运, 爱情', NOW(), 0, '讲述了一个普通人在历经磨难后依然坚持活下去的故事'),
    ('追风筝的人', 7, '卡勒德·胡赛尼', '上海人民出版社', '2024-06-01', 29.99, 300, '友情, 救赎', NOW(), 0, '以阿富汗少年阿米尔与哈桑之间的友情为主线'),
    ('局外人', 8, '阿尔贝·加缪', '人民文学出版社', '2024-05-01', 19.99, 200, '无情, 社会', NOW(), 0, '描述了一个对社会和人生毫无兴趣的人的故事'),
    ('小王子', 2, '安东尼·德·圣-埃克苏佩里', '人民文学出版社', '2024-04-01', 19.99, 200, '童话, 友谊', NOW(), 0, '以小王子的冒险经历讲述了关于友谊、爱和人性的哲理'),
    ('呼啸山庄', 1, '艾米莉·勃朗特', '人民文学出版社', '2024-03-01', 29.99, 300, '爱情, 家族', NOW(), 0, '以希思克利夫和凯瑟琳之间的爱情为核心');
INSERT INTO book (name, category_id, author, press, publish_date, price, page_number, keywords, create_time, status,
notes)
VALUES
('1984', 4, '乔治·奥威尔', '人民文学出版社', '2020-12-01', 29.99, 300, '思想警察, 民主', NOW(), 0, '预言了一个极权统治的未来社会'),
('人间失格', 2, '太宰治', '新潮社', '2021-01-01', 19.99, 200, '人生, 失败', NOW(), 0, '反映了日本战后社会的失落与绝望'),
('飘', 1, '玛格丽特·米切尔', '上海译文出版社', '2021-02-01', 39.99, 400, '斯嘉丽, 性格', NOW(), 0, '描绘了美国南方的风情和历史'),
('人性的弱点', 6, '戴尔·卡耐基', '湖南人民出版社', '2021-03-01', 49.99, 500, '人际关系, 成功', NOW(), 0, '探讨了人性中的弱点和人际关系的技巧'),
('失落的一代', 5, '欧内斯特·海明威', '广西师范大学出版社', '2021-04-01', 59.99, 600, '战争, 迷失', NOW(), 0, '描绘了战后世界的迷茫和沉寂'),
('白鹿原', 3, '陈忠实', '人民文学出版社', '2021-05-01', 69.99, 700, '白鹿, 世代', NOW(), 0, '讲述了中国北方一个山村的沉浮变迁'),
('悲惨世界', 4, '雨果', '北京十月文艺出版社', '2021-06-01', 79.99, 800, '浪漫, 励志', NOW(), 0, '描绘了法国19世纪社会的黑暗与光明'),
('傲慢与偏见', 1, '简·奥斯汀', '上海译文出版社', '2021-07-01', 89.99, 900, '伊丽莎白, 礼仪', NOW(), 0, '反映了英国乡村社会的风情和礼仪'),
('福尔摩斯探案集', 2, '柯南·道尔', '人民文学出版社', '2021-08-01', 99.99, 1000, '福尔摩斯, 探案', NOW(), 0, '收录了福尔摩斯各种探案故事'),
('百合花开的季节', 3, '夏目漱石', '人民文学出版社', '2021-09-01', 109.99, 1100, '文学, 日本', NOW(), 0, '描绘了日本明治时代的社会变迁'),
('时间的礼物', 4, '米切尔·阿尔班', '人民文学出版社', '2021-10-01', 119.99, 1200, '家庭, 爱情', NOW(), 0, '讲述了一个家庭在时间中的坚守与成长'),
('格林童话', 5, '格林兄弟', '上海人民出版社', '2021-11-01', 129.99, 1300, '童话, 想象', NOW(), 0, '收录了格林童话中的经典故事'),
('唐诗三百首', 6, '佚名', '北京出版社', '2021-12-01', 139.99, 1400, '诗歌, 唐代', NOW(), 0, '是中国古代诗歌的经典之作'),
('呼啸山庄', 7, '艾米莉·勃朗特', '人民文学出版社', '2022-01-01', 149.99, 1500, '家族, 爱情', NOW(), 0, '描绘了一个英国乡村家族的传奇故事'),
('约翰·克利斯朵夫', 8, '赫尔曼·梅尔维尔', '上海译文出版社', '2022-02-01', 159.99, 1600, '船长, 白鲸', NOW(), 0, '反映了人性的黑暗与光明'),
('白夜行', 1, '东野圭吾', '南海出版公司', '2022-03-01', 169.99, 1700, '谋杀, 悬疑', NOW(), 0, '描绘了一个谋杀案的复杂心理'),
('红拂夜奔', 2, '王小波', '作家出版社', '2022-04-01', 179.99, 1800, '红拂, 革命', NOW(), 0, '讲述了一个女性的革命传奇'),
('罗生门', 3, '芥川龙之介', '上海译文出版社', '2022-05-01', 189.99, 1900, '罗生门, 短篇小说', NOW(), 0, '描绘了日本战国时代的黑暗与矛盾'),
('明朝那些事儿', 4, '当年明月', '湖南文艺出版社', '2022-06-01', 199.99, 2000, '明朝, 历史', NOW(), 0, '以幽默的笔触讲述了明朝历史上的种种趣事'),
('地下铁', 5, '达什·卡尔', '上海译文出版社', '2022-07-01', 209.99, 2100, '地下, 生存', NOW(), 0, '描绘了地下铁隧道中的生存与抗争'),
('一个陌生女人的来信', 6, '斯蒂芬·茨威格', '上海译文出版社', '2022-08-01', 219.99, 2200, '爱情, 来信', NOW(), 0, '讲述了一段不为人知的爱情故事'),
('边城', 7, '沈从文', '人民文学出版社', '2022-09-01', 229.99, 2300, '爱情, 乡土', NOW(), 0, '描绘了中国南方边陲的风土人情'),
('追风筝的人', 8, '卡勒德·胡赛尼', '上海人民出版社', '2022-10-01', 239.99, 2400, '阿富汗, 友谊', NOW(), 0, '讲述了一个阿富汗男孩的成长与命运'),
('白鹿原', 1, '陈忠实', '人民文学出版社', '2022-11-01', 249.99, 2500, '白鹿, 世代', NOW(), 0, '讲述了中国北方一个山村的沉浮变迁'),
('飞鸟集', 2, '泰戈尔', '人民文学出版社', '2022-12-01', 259.99, 2600, '诗歌, 印度', NOW(), 0, '是诺贝尔文学奖得主泰戈尔的代表作'),
('围城', 3, '钱钟书', '人民文学出版社', '2023-01-01', 269.99, 2700, '方鸿渐, 孙小姐', NOW(), 0, '描写了知识分子的迷茫和困境'),
('福尔摩斯探案集', 4, '柯南·道尔', '人民文学出版社', '2023-02-01', 279.99, 2800, '福尔摩斯, 探案', NOW(), 0, '收录了福尔摩斯各种探案故事'),
('红楼梦', 5, '曹雪芹', '人民文学出版社', '2023-03-01', 289.99, 2900, '贾宝玉, 林黛玉', NOW(), 0, '描写了贾宝玉和林黛玉的爱情故事'),
('活着', 6, '余华', '作家出版社', '2023-04-01', 299.99, 3000, '福贵, 小福子', NOW(), 0, '生动地描绘了一个农民的一生'),
('百年孤独', 7, '加西亚·马尔克斯', '南海出版公司', '2023-05-01', 309.99, 3100, '布恩迪亚家族, 马奎斯', NOW(), 0, '以布恩迪亚家族七代人的故事为主线');

INSERT INTO reader (name, category_id, sex, w_address, h_address, phone, email, create_time, notes) VALUES
('陈一', 1, 1, '北京市东城区东华门街道', '北京市朝阳区酒仙桥街道', '12345678901', 'chenyi@example.com', NOW(), '喜欢看历史类书籍'),
('李二', 2, 0, '上海市黄浦区南京东路街道', '上海市徐汇区漕河泾街道', '98765432101', 'lier@example.com', NOW(), '热爱科技类书籍'),
('张三', 3, 1, '广州市越秀区北京路街道', '广州市天河区珠江新城街道', '55555555551', 'zhangsan@example.com', NOW(), '喜欢音乐类书籍'),
('李四', 1, 1, '深圳市福田区华强北街道', '深圳市南山区高新南街道', '12345678902', 'lisi@example.com', NOW(), '热爱旅游类书籍'),
('王五', 2, 0, '武汉市江汉区建设大道街道', '武汉市洪山区关山街道', '98765432102', 'wangwu@example.com', NOW(), '喜欢电影类书籍'),
('赵六', 3, 1, '重庆市渝中区解放碑街道', '重庆市九龙坡区华岩镇', '55555555552', 'zhaoliu@example.com', NOW(), '热爱艺术类书籍'),
('孙七', 1, 1, '成都市锦江区春熙路街道', '成都市武侯区高升桥街道', '12345678903', 'sunqi@example.com', NOW(), '喜欢动漫类书籍'),
('周八', 2, 0, '南京市玄武区中山门街道', '南京市鼓楼区华侨路街道', '98765432103', 'zhouba@example.com', NOW(), '热爱历史类书籍'),
('吴九', 3, 1, '杭州市上城区湖滨街道', '杭州市滨江区长河街道', '55555555553', 'wuwu@example.com', NOW(), '喜欢外语类书籍'),
('郑十', 1, 1, '苏州市姑苏区虎丘街道', '苏州市相城区元和街道', '12345678904', 'zhengshi@example.com', NOW(), '热爱心理学类书籍'),
('冯十一', 2, 0, '济南市历下区趵突泉街道', '济南市历城区华龙街道', '98765432104', 'fengfeng@example.com', NOW(), '喜欢文学类书籍'),
('陈十二', 3, 1, '青岛市市南区台东街道', '青岛市市北区浮山所街道', '55555555554', 'chenchen@example.com', NOW(), '热爱经济类书籍'),
('卫十三', 1, 1, '天津市和平区劝业场街道', '天津市河西区梅江街道', '12345678905', 'weishi@example.com', NOW(), '喜欢哲学类书籍'),
('蒋十四', 2, 0, '西安市新城区长乐西路街道', '西安市雁塔区小寨路街道', '98765432105', 'jiangjiang@example.com', NOW(), '热爱教育类书籍'),
('沈十五', 3, 1, '长沙市芙蓉区五一广场街道', '长沙市岳麓区岳麓山街道', '55555555555', 'shenshen@example.com', NOW(), '喜欢自然科学类书籍'),
('韩十六', 1, 1, '南昌市东湖区东湖街道', '南昌市西湖区八一桥街道', '12345678906', 'hanhan@example.com', NOW(), '热爱计算机类书籍'),
('杨十七', 2, 0, '郑州市管城回族区紫荆山路街道', '郑州市中原区二七街道', '98765432106', 'yangyang@example.com', NOW(), '喜欢体育类书籍'),
('朱十八', 3, 1, '哈尔滨市道里区松花江街道', '哈尔滨市南岗区革新街道', '55555555556', 'zhuzhu@example.com', NOW(), '热爱军事类书籍'),
('秦十九', 1, 1, '石家庄市裕华区世纪公园街道', '石家庄市长安区胜利北街道', '12345678907', 'qinqin@example.com', NOW(), '喜欢政治类书籍'),
('尤二十', 2, 0, '太原市杏花岭区迎泽西街道', '太原市小店区南内环街道', '98765432107', 'youyou@example.com', NOW(), '热爱法律类书籍'),
('许二十一', 3, 1, '合肥市蜀山区望江西路街道', '合肥市包河区金寨路街道', '55555555557', 'xuxu@example.com', NOW(), '喜欢艺术类书籍'),
('何二十二', 1, 1, '济南市历下区趵突泉南路街道', '济南市天桥区中心街道', '12345678908', 'hehe@example.com', NOW(), '热爱旅游类书籍'),
('吕二十三', 2, 0, '青岛市市南区海泊桥街道', '青岛市市北区浮山路街道', '98765432108', 'lvlu@example.com', NOW(), '喜欢哲学类书籍'),
('施二十四', 3, 1, '天津市和平区南市街道', '天津市河东区大王庄街道', '55555555558', 'shishi@example.com', NOW(), '热爱心理学类书籍'),
('张二十五', 1, 1, '西安市雁塔区小寨路街道', '西安市未央区辛家庙街道', '12345678909', 'zhangzhang@example.com', NOW(), '喜欢电影类书籍'),
('孔二十六', 2, 0, '长沙市岳麓区望月湖街道', '长沙市开福区马王堆街道', '98765432109', 'kongkong@example.com', NOW(), '热爱历史类书籍'),
('曹二十七', 3, 1, '南昌市西湖区孺子路街道', '南昌市青山湖区西湖街道', '55555555559', 'caocao@example.com', NOW(), '喜欢文学类书籍'),
('严二十八', 1, 1, '郑州市金水区经三路街道', '郑州市二七区嵩山路街道', '12345678910', 'yanyan@example.com', NOW(), '热爱哲学类书籍'),
('华二十九', 2, 0, '哈尔滨市南岗区南岗街道', '哈尔滨市道里区松北街道', '98765432110', 'huahua@example.com', NOW(), '喜欢外语类书籍'),
('胡三十', 3, 1, '石家庄市长安区裕华西路街道', '石家庄市桥西区桥西街道', '55555555560', 'huhu@example.com', NOW(), '热爱科幻类书籍');
INSERT INTO reader (name, category_id, sex, w_address, h_address, phone, email, create_time, notes) VALUES
('王小明', 1, 1, '湖南省长沙市雨花区芙蓉中路', '四川省成都市武侯区高升桥街道', '13612345678', 'wangxiaoming@example.com', NOW(), '研究教育理论的学者'),
('李小红', 2, 0, '四川省成都市锦江区春熙路', '湖南省长沙市天心区解放西路', '13987654322', 'lixiaohong@example.com', NOW(), '关注教育改革的教师'),
('张小刚', 3, 1, '湖南省湘潭市雨湖区潇湘南路', '四川省成都市青羊区人民中路', '13776543210', 'zhangxiaogang@example.com', NOW(), '教育行业从业者'),
('赵小伟', 4, 1, '四川省绵阳市涪城区红星路', '湖南省株洲市天元区芦淞北路', '13876543210', 'zhaoxiaowei@example.com', NOW(), '关注学生心理健康的辅导员'),
('钱小芳', 1, 0, '湖南省衡阳市石鼓区城南路', '四川省成都市武侯区天府大道', '13598765438', 'qianxiaofang@example.com', NOW(), '学前教育工作者'),
('孙小强', 2, 1, '四川省成都市金牛区西安中路', '湖南省湘潭市雨湖区雨湖路', '13976543240', 'sunxiaoqiang@example.com', NOW(), '研究教育心理学的专家'),
('周小艾', 3, 1, '湖南省株洲市荷塘区东塘路', '四川省德阳市旌阳区凤鸣南路', '13676543240', 'zhouxiaoa@example.com', NOW(), '中小学教师'),
('吴小娜', 4, 0, '四川省成都市锦江区大慈寺路', '湖南省衡阳市蒸湘区中心路', '13787654341', 'wuxiaona@example.com', NOW(), '关注教育行政的工作人员'),
('朱小明', 1, 1, '湖南省长沙市芙蓉区芙蓉中路', '四川省成都市青羊区青羊大道', '13987654321', 'zhuxiaoming@example.com', NOW(), '关注教育行政的工作人员'),
('陈小红', 2, 0, '四川省成都市武侯区桂溪街道', '湖南省株洲市天元区栗树街道', '13698764432', 'chenxiaohong@example.com', NOW(), '热爱教育类书籍'),
('林小刚', 3, 1, '湖南省湘潭市雨湖区潇湘南路', '四川省成都市青羊区人民中路', '13598764432', 'linxiaogang@example.com', NOW(), '喜欢体育类书籍'),
('黄小伟', 4, 1, '四川省绵阳市涪城区红星路', '湖南省株洲市天元区芦淞北路', '13898765442', 'huangxiaowei@example.com', NOW(), '喜欢科幻类书籍'),
('徐小芳', 1, 0, '湖南省衡阳市石鼓区城南路', '四川省成都市武侯区天府大道', '13987654341', 'xuxiaofang@example.com', NOW(), '喜欢文学类书籍'),
('胡小强', 2, 1, '四川省成都市金牛区西安中路', '湖南省湘潭市雨湖区雨湖路', '13674543240', 'huxiaoqiang@example.com', NOW(), '喜欢历史类书籍'),
('朱小艾', 3, 1, '湖南省株洲市荷塘区东塘路', '四川省德阳市旌阳区凤鸣南路', '13774543240', 'zhuxiaoa@example.com', NOW(), '喜欢哲学类书籍'),
('刘小娜', 4, 0, '四川省成都市锦江区大慈寺路', '湖南省衡阳市蒸湘区中心路', '13887654341', 'liuxiaona@example.com', NOW(), '喜欢艺术类书籍'),
('丁小明', 1, 1, '湖南省长沙市芙蓉区芙蓉中路', '四川省成都市青羊区青羊大道', '13698762432', 'dingxiaoming@example.com', NOW(), '喜欢心理学类书籍'),
('许小红', 2, 0, '四川省成都市武侯区桂溪街道', '湖南省株洲市天元区栗树街道', '13798762432', 'xuxiaohong@example.com', NOW(), '喜欢经济类书籍'),
('曹小刚', 3, 1, '湖南省湘潭市雨湖区潇湘南路', '四川省成都市青羊区人民中路', '13598469432', 'caoxiaogang@example.com', NOW(), '喜欢政治类书籍'),
('程小伟', 4, 1, '四川省绵阳市涪城区红星路', '湖南省株洲市天元区芦淞北路', '13781654391', 'chengxiaowei@example.com', NOW(), '喜欢法律类书籍'),
('苏小芳', 1, 0, '湖南省衡阳市石鼓区城南路', '四川省成都市武侯区天府大道', '13681654391', 'suxiaofang@example.com', NOW(), '喜欢教育类书籍'),
('杨小强', 2, 1, '四川省成都市金牛区西安中路', '湖南省湘潭市雨湖区雨湖路', '13571543290', 'yangxiaoqiang@example.com', NOW(), '喜欢心理学类书籍'),
('秦小艾', 3, 1, '湖南省株洲市荷塘区东塘路', '四川省德阳市旌阳区凤鸣南路', '13771543290', 'qinxiaoai@example.com', NOW(), '喜欢经济类书籍'),
('许小娜', 4, 0, '四川省成都市锦江区大慈寺路', '湖南省衡阳市蒸湘区中心路', '13881654391', 'xuxiaona@example.com', NOW(), '喜欢政治类书籍'),
('黄小明', 1, 1, '湖南省长沙市芙蓉区芙蓉中路', '四川省成都市青羊区青羊大道', '13198762332', 'huangxiaoming@example.com', NOW(), '喜欢科幻类书籍'),
('徐小红', 2, 0, '四川省成都市武侯区桂溪街道', '湖南省株洲市天元区栗树街道', '13198764332', 'xuxiaohong@example.com', NOW(), '喜欢文学类书籍'),
('胡小刚', 3, 1, '湖南省湘潭市雨湖区潇湘南路', '四川省成都市青羊区人民中路', '13198766432', 'huxiaogang@example.com', NOW(), '喜欢历史类书籍'),
('朱小伟', 4, 1, '四川省绵阳市涪城区红星路', '湖南省株洲市天元区芦淞北路', '13671543290', 'zhuxiaowei@example.com', NOW(), '喜欢哲学类书籍');


select count(id) from lend_return WHERE (return_date is null or return_date >= 2024-05-16) and r_id = 207;